# SSH伺服器的無密碼登入

## 生成 SSH 密鑰
ssh-keygen 
## 將公鑰複製到伺服器
ssh-copy-id username@server_ip
## 測試無密碼登入
ssh username@server_ip

# root的無密碼登入

## 設置 root 帳戶密碼
切換到 root 用戶:sudo -i  
設置 root 密碼:passwd
## 允許 root 通過 SSH 登入
編輯伺服器的 SSH 配置檔案：sudo nano /etc/ssh/sshd_config  
修改成:  
PermitRootLogin yes  
PubkeyAuthentication yes
## 重啟 SSH 服務
sudo systemctl restart ssh
## 測試 root 無密碼登入
ssh root@server_ip

# apache2伺服器的密碼登入

## 安裝必要模組
確保 Apache2 已安裝：  
sudo apt update  
sudo apt install apache2  
啟用 Apache2 的 mod_auth_basic 模組：  
sudo a2enmod auth_basic  
sudo systemctl restart apache2
## 創建密碼檔案
安裝 htpasswd 工具：  
sudo apt install apache2-utils  
創建或更新密碼檔案：  
sudo htpasswd -c /etc/apache2/.htpasswd username  
-c：創建新的檔案（首次使用）。  
username：設置一個用戶名。  
追加用戶：  
sudo htpasswd /etc/apache2/.htpasswd newuser
## 配置網站虛擬主機
編輯 Apache2 的虛擬主機配置檔案：  
sudo nano /etc/apache2/sites-available/000-default.conf  
在 \<VirtualHost\> 區塊內加入以下內容：  
\<Directory\> "/var/www/html"  
    AuthType Basic  
    AuthName "Restricted Content"  
    AuthUserFile /etc/apache2/.htpasswd  
    Require valid-user  
\</Directory\>  
AuthType Basic：指定基本身份驗證。  
AuthName：顯示給用戶的提示（例如：輸入密碼以訪問）。  
AuthUserFile：指定存放密碼的檔案路徑。  
Require valid-user：要求提供有效的用戶名和密碼。  

## 重新啟動 Apache2
sudo systemctl restart apache2

# apache2伺服器的使用者家目錄

## 啟用 mod_userdir 模組
sudo a2enmod userdir
## 配置使用者家目錄
確保 public_html 目錄存在：  
每個使用者需要在其家目錄中創建 public_html 子目錄，Apache2 將使用該目錄作為網站根目錄。  
mkdir ~/public_html  
chmod 755 ~/public_html  
設置正確的權限：  
確保家目錄和 public_html 目錄的權限允許 Apache2 訪問：  
chmod 755 ~  
chmod 755 ~/public_html  
## 在某個用戶的 public_html 目錄中創建一個簡單的 HTML 文件（例如 index.html）：
echo "\<h1\>Welcome to User's Home Directory\</h1\>" > ~/public_html/index.html  



